<style>
  .collection-list-container-{{ section.id }} {
    display: grid;
    grid-template-columns: repeat({{ section.settings.grid_columns }}, 1fr);
    gap: {{ section.settings.grid_gap }}px;
    padding: {{ section.settings.section_padding }}px;
    background-color: {{ section.settings.bg_color }};
    text-align: {{ section.settings.text_alignment }};
  }

  .collection-item-{{ section.id }} {
    text-align: center;
  }

  .collection-image-{{ section.id }} {
    width: 100%;
    height: auto;
    border-radius: {{ section.settings.image_border_radius }}px;
  }

  .collection-title-{{ section.id }} {
    font-size: {{ section.settings.title_font_size }}px;
    color: {{ section.settings.title_color }};
    margin-top: 10px;
  }
</style>

<div class="collection-list-container-{{ section.id }}">
  {% for block in section.blocks %}
    <div class="collection-item-{{ section.id }}">
      <a href="{{ block.settings.collection_link }}">
        <img
          src="{{ block.settings.collection_image | image_url: width: 600, height: 600 }}"
          class="collection-image-{{ section.id }}"
          alt="Collection Image"
          width="600"
          height="600"
        >
      </a>
      {% if block.settings.collection_title != blank %}
        <p class="collection-title-{{ section.id }}">{{ block.settings.collection_title }}</p>
      {% endif %}
    </div>
  {% endfor %}
</div>

{% schema %}
{
  "name": "Custom Collection List",
  "settings": [
    {
      "type": "range",
      "id": "grid_columns",
      "label": "Number of Columns",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 3
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid Gap",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section Padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "Image Border Radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 10
    }
  ],
  "blocks": [
    {
      "type": "collection-list",
      "name": "Collection",
      "settings": [
        {
          "type": "image_picker",
          "id": "collection_image",
          "label": "Select Image"
        },
        {
          "type": "url",
          "id": "collection_link",
          "label": "Select Collection"
        },
        {
          "type": "text",
          "id": "collection_title",
          "label": "Collection Title",
          "default": "Collection Name"
        },
        {
          "type": "color",
          "id": "title_color",
          "label": "Title Color",
          "default": "#333333"
        },
        {
          "type": "range",
          "id": "title_font_size",
          "label": "Title Font Size",
          "min": 10,
          "max": 40,
          "step": 1,
          "unit": "px",
          "default": 16
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Collection List"
    }
  ]
}
{% endschema %}
